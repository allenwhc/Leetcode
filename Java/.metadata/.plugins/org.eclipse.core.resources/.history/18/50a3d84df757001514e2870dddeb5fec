import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;
import java.util.List;
import java.util.Stack;

public class Solution {
	public static String alienOrder(String[] words) {
        int n=words.length;
        if(n==0) return "";
        
        //Count number of distinct alphabets
        List<Character> alphabets=new ArrayList<>();
        for(int i=0; i<n; i++){
        	String word=words[i];
        	for(int j=0; j<word.length(); j++){
        		if(!alphabets.contains(word.charAt(j)))
        			alphabets.add(word.charAt(j));
        	}
        }
        
        int size=alphabets.size();
//        HashMap<Character, Integer> map=new HashMap<>();
//        for(int i=0; i<size; i++)
//        	map.put(alphabets.get(i), i);
//        for(Character key:map.keySet())
//        	System.out.println(key+":"+map.get(key));
        //Create an empty graph
        List<List<Integer>> adjacentList=new ArrayList<List<Integer>>();
        for(int i=0; i<26; i++)
        	adjacentList.add(new ArrayList<Integer>());
        
        //Compare two adjacent words in words
        for(int i=0; i<n-1; i++){
        	String word1=words[i];
        	String word2=words[i+1];
        	for(int j=0; j<Math.min(word1.length(), word2.length()); j++){
        		char c1=word1.charAt(j);
        		char c2=word2.charAt(j);
        		if(c1!=c2){
        			adjacentList.get(c1-'a').add(c2-'a');
        			break;
        		}
        	}
        }
        
        //Trim graph
        for(int i=0; i<adjacentList.size(); i++){
        	System.out.println(adjacentList.get(i).size());
        	if(adjacentList.get(i)==null)
        		adjacentList.remove(i);
        }
        Stack<Integer> stack=new Stack<>();
        boolean[] visited=new boolean[size];
        topologicalSort(stack, adjacentList, -1, 0, visited);
        
        for(List<Integer> l:adjacentList)
       	 System.out.println(Arrays.deepToString(l.toArray()));
        return "";
    }
	
	private static void topologicalSort(Stack<Integer> stack, List<List<Integer>> adjacentList, int parent, int u, boolean[] visited){
		
	}
	
	
	public static void main(String[] args) {
		String[] words={"baa", "abcd", "abca", "cab", "cad"};
	//	String[] words={"wrt","wrf","er","ett","rftt"};
		System.out.println("Given sequence of words is: "+Arrays.toString(words));
		System.out.println("The dictionary is: "+alienOrder(words));
	}
}
