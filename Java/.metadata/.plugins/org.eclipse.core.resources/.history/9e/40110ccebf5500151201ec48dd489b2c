//import java.util.Map.Entry;
import java.util.HashMap;

public class Solution {
	public static int lengthOfLongestSubstringTwoDistinct(String s) {
        int n=s.length();
        HashMap<Character, Integer> map=new HashMap<>();
        int max_len=0;
        int left=0;
        for(int i=0; i<n; i++){
        	char c=s.charAt(i);
        	if(map.size()==2 && !map.containsKey(c)){
        		max_len=Math.max(max_len, i-left);
        		
        		int leftMost=n;
        		for(Character key:map.keySet())
        			leftMost=Math.min(leftMost, map.get(key));
        		left=leftMost+1;
        		//System.out.println(s.charAt(leftMost));
        		map.remove(s.charAt(leftMost));
        	}
        	map.put(c, i);
        	for(Character key:map.keySet())
        		System.out.println("i="+i+","+key+":"+map.get(key));
        }
        if(!map.isEmpty() && max_len==0)
        	return n;
        return max_len;
    }
	
	public static void main(String[] args) {
		String s="abc";
		System.out.println("Length of longest substring with at most two distinct characters in '"+s+"' is: "+lengthOfLongestSubstringTwoDistinct(s));
	}
}
